    <ui:composition
         xmlns:ui="http://java.sun.com/jsf/facelets"
         xmlns:f="http://java.sun.com/jsf/core"
         xmlns:h="http://java.sun.com/jsf/html"
         template="../resources/teacherTemplate.xhtml"
         >
        <ui:define name="content">
         <f:metadata>
             <f:viewParam name="s" value="#{teachersGroups.semester}"/>
             <f:viewParam name="s" value="#{groupPoints.semester}"/>
             <f:viewParam name="g" value="#{groupPoints.id}"/>
             <f:viewParam name="c" value="#{groupPoints.curriculumId}"/>
         </f:metadata>
         <h:outputText rendered="#{groupPoints.accessDenied}" value="группа не найдена или не доступна" />

         <h:panelGroup rendered="#{not groupPoints.accessDenied}">
         <h:dataTable value="#{groupPoints.disciplines}" var="d">
           <h:column>
               <h:outputLink value="?c=#{d.id}&amp;g=#{groupPoints.id}&amp;s=#{groupPoints.semester}">(#{d.discipline.name})</h:outputLink>
           </h:column>
          </h:dataTable>

         <h:outputText rendered="#{groupPoints.accessDenied}" value="дисциплина не найдена или не доступна" />
         <h:outputText value="#{groupPoints.curriculum.discipline.name}"/><br/>
         <h:outputText value="#{groupPoints.group.name}"/> (<h:outputText value="#{groupPoints.group.city.name}"/>,<h:outputText value="#{groupPoints.group.speciality.name}"/>)

         <hr/>
         <h:form rendered="#{not groupPoints.accessDenied}" id="form" prependId="false">
           <h:dataTable id="table" value="#{groupPoints.points}" var="p">
           <h:column>
            <f:facet name="header">
             <h:outputText value="студент" />
            </f:facet>
               <h:outputLink value="student.xhtml?id=#{p.points.student.id}&amp;s=#{groupPoints.semester}">#{p.points.student.initials}</h:outputLink>
           </h:column>

           <h:column>
            <f:facet name="header">
             <h:outputText value="тесты" />
            </f:facet>
             #{p.test}(#{p.testsMaxPoints})
           </h:column>

           <h:column>
            <f:facet name="header">
             <h:outputText value="переэкзаменовка" />
            </f:facet>
             #{p.reTest}
           </h:column>

           <h:column>
            <f:facet name="header">
             <h:outputText value="итоговые тесты" />
            </f:facet>
             #{p.concludingTest}(#{p.concludingTestsMaxPoints})
           </h:column>

           <h:column>
            <f:facet name="header">
             <h:outputText value="итоговые тесты переэкзаменовка" />
            </f:facet>
             #{p.concludingReTest}
           </h:column>

           <h:column>
            <f:facet name="header">
             <h:outputText value="контрольные, баллы" />
            </f:facet>
                 #{p.controlWorkPoints}
           </h:column>

           <h:column>
            <f:facet name="header">
             <h:outputText value="контрольные" />
            </f:facet>
               <h:outputText converter="enumConverter" value="#{p.controlWorkValue}" />
           </h:column>

           <h:column>
            <f:facet name="header">
             <h:outputText value="сумма" />
            </f:facet>
             #{p.points.sum}
           </h:column>

           <h:column>
            <f:facet name="header">
             <h:outputText value="итог" />
            </f:facet>
               <h:selectOneMenu id="grade" value="#{p.grade}">
                   <f:selectItems value="#{groupPoints.enum}" />
               </h:selectOneMenu>
           </h:column>
         </h:dataTable>
         <h:commandButton id="btn" value="ОКЭ">
            <f:ajax execute="@form" render="table:grade error saved" listener="#{groupPoints.save}"/>
         </h:commandButton>
         <h:outputText id="error" rendered="#{groupPoints.error}" value="ERROR"/>
         <h:outputText id="saved" rendered="#{groupPoints.saved}" value="saved"/>
       </h:form>
       </h:panelGroup>
       </ui:define>
    </ui:composition>