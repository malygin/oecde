<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="../resources/teacherTemplate.xhtml"
    xmlns:ut="http://java.sun.com/jsf/composite/components/util"
    xmlns:set="http://java.sun.com/jsf/composite/components/settings"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:tabs="http://java.sun.com/jsf/composite/components/tabs">

    <ui:define name="contentHeader">
        #{msgs.teacher_settingsTitle}
    </ui:define>

    <ui:define name="content">
        <script type="text/javascript" src="../resources/jquery/js/jquery.maskedinput-1.2.2.js"></script>
        <div>
            <div class="StudentMainPageTitlesBorders floatLeft" style="width: 68.5%;">
                <div class="mainStudentPageTitles mainStudentPageTitlesGreen">
                    #{msgs.user_settingsForAccount}
                </div>
                <div class="userinfoContent">
                    <h:form>
                        <div class="floatLeft greyInputs" style="width: 60%;">
                            <p class="Ipsilon_Web_GreenText login_pagePadding previewPadBott">#{msgs.user_settingsInfoOnMain}
                            </p>
                            <div>
                                <table>
                                    <tr>
                                        <td>#{msgs.student_studentContact}
                                        </td>
                                        <td>
                                    <h:inputText value="#{teacherSettingsBean.teacher.contacts}"/>
                                    </td>
                                    </tr>
                                    <tr>
                                        <td>#{msgs.student_studentExtraInfo}
                                        </td>
                                        <td>
                                    <h:inputText value="#{teacherSettingsBean.teacher.info}"/>
                                    </td>
                                    </tr>
                                    <tr>  <td></td>                            
                                <td> 
                                    <h:selectOneMenu value="#{teacherSettingsBean.teacher.skin}">
                                      <f:selectItems value="#{teacherSettingsBean.skins}" />
                                    </h:selectOneMenu>      
                                </td>
                            </tr>
                                    <tr>
                                        <td colspan="2">
                                    <h:outputText id="saved2" rendered="#{studentSettingsBean.saved}" value="#{msgs.user_settingsSaved}"/>
                                    <div class="smallChatTools">
                                        <h:commandButton value="#{msgs.admin_mainContentSave}" styleClass="studentButton" style="margin-right: 0; margin-top: 10px; width: 90px;text-align: center;">
                                            <f:ajax execute="@form" render="@form"  listener="#{teacherSettingsBean.save}"/>
                                        </h:commandButton>
                                    </div>
                                    </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </h:form>
                    <div style="width: 35%; margin-left: 60%;">
                        <set:addAvatar bean="#{teacherSettingsBean}"/>
                    </div>
                    <div class="floatDestroyer"/>
                    <h:form>
                        <div class="greyInputs" style="float: none; width: 60%;">
                            <p class="Ipsilon_Web_GreenText login_pagePadding previewPadBott">#{msgs.user_settingsInfoForAdmin}</p>
                            <table class="changePasswordBlock" style="width: 95%;">
                                <tr>
                                    <td>
                                        <p>#{msgs.user_eMailAddress}</p>
                                    </td>
                                    <td>
                                        <table cellpadding="0" cellspacing="0">
                                            <tr>
                                                <td>
                                            <h:inputText id="eMail" size="19" value="#{teacherSettingsBean.teacher.email}" styleClass="settingInputWidth"/>
                                    </td>
                                    <td>
                                        <div class="settingErrDiv">
                                            <div id="validEmail">
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                            </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>#{msgs.user_mobilePhone}</p>
                                </td>
                                <td>
                            <h:inputText  maxlength="10" size="10" value="#{teacherSettingsBean.teacher.cellPhone}" styleClass="settingInputWidth"/>
                            </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>#{msgs.user_officePhone}</p>
                                </td>
                                <td>
                            <h:inputText  maxlength="10" size="10" value="#{teacherSettingsBean.teacher.officePhoneNumber}" styleClass="settingInputWidth"/>
                            </td>
                            </tr>
                            </table>
                            <div style="text-align: right; width: 90%;margin-bottom: 35px;">
                                <h:commandButton value="#{msgs.teacher_saveButton}" action="#{teacherSettingsBean.save}" styleClass="studentButton changePasswordButtonSaveAdminPosition #{fn:toLowerCase(cc.attrs.user.classType)}Button">
                                </h:commandButton>
                            </div>
                            <h:outputText id="saved" rendered="#{teacherSettingsBean.saved}" value="saved"/>
                            <h:outputText id="error" rendered="#{teacherSettingsBean.error ne null}" value="#{teacherSettingsBean.error}"/>
                            <h:messages id="mess"/>
                        </div>
                    </h:form>
                    <div class="greyInputs">
                        <p class="Ipsilon_Web_GreenText login_pagePadding previewPadBott">Смена пароля</p>
                        <set:changePassword user="#{teacherSettingsBean.teacher}"/>
                    </div>
                </div>
                <div class="floatDestroyer"/>
            </div>
            <div class="StudentMainPageTitlesBorders" style="margin-left: 72%;">
                <div class="mainStudentPageTitles mainStudentPageTitlesSkyBlue">#{msgs.student_marksHelp}
                </div>
                <div class="textForPodskazka">
                    <tabs:singleTab alias="TEACHER_SETTINGS"/>
                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>