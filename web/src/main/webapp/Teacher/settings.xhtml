<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="../resources/teacherTemplate.xhtml"
    xmlns:ut="http://java.sun.com/jsf/composite/components/util"
    xmlns:set="http://java.sun.com/jsf/composite/components/settings"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions">

    <ui:define name="contentHeader">
        #{msgs.teacher_settingsTitle}
    </ui:define>

    <ui:define name="content">

    <script type="text/javascript" src="../resources/jquery/js/jquery.maskedinput-1.2.2.js"></script>
    <script type="text/javascript" src="../resources/jquery/js/jquery-1.3.2.min.js"></script>
    
        <div class="userFile">
            <div style="float: right; width: 78%; text-align: left;">
                <h:form>
                    <script type="text/javascript" src="../resources/scripts/settings.js"></script>
                    <div class="userData" style="float: none; width: 60%;">
                        <table>
                            <tr>
                                <td>
                                    <p>#{msgs.user_eMailAddress}</p>
                                </td>
                                <td>
                                    <table cellpadding="0" cellspacing="0">
                                        <tr>
                                            <td>
                                                <h:inputText id="eMail" size="19" value="#{teacherSettingsBean.teacher.email}" styleClass="settingInputWidth"/>
                                            </td>
                                            <td>
                                                <div class="settingErrDiv">
                                                    <div id="validEmail">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>#{msgs.user_mobilePhone}</p>
                                </td>
                                <td>
                                    <h:inputText id="cellPhone" maxlength="10" size="10" value="#{teacherSettingsBean.teacher.cellPhone}" styleClass="settingInputWidth"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>#{msgs.user_officePhone}</p>
                                </td>
                                <td>
                                    <h:inputText id="officePhoneNumber" maxlength="10" size="10" value="#{teacherSettingsBean.teacher.officePhoneNumber}" styleClass="settingInputWidth"/>
                                </td>
                            </tr>
                        </table>
                        <div style="text-align:right;">
                            <h:commandButton value="#{msgs.teacher_saveButton}" styleClass="studentButton changePasswordButtonSaveAdminPosition #{fn:toLowerCase(cc.attrs.user.classType)}Button">
                                <f:ajax execute="@form" render="@form mess saved error" listener="#{teacherSettingsBean.save}"/>
                            </h:commandButton>
                        </div>
                        <h:outputText id="saved" rendered="#{teacherSettingsBean.saved}" value="saved"/>
                        <h:outputText id="error" rendered="#{teacherSettingsBean.error ne null}" value="#{teacherSettingsBean.error}"/>
                        <h:messages id="mess"/>
                    </div>
                </h:form><br/>
                <set:changePassword user="#{teacherSettingsBean.teacher}"/>
            </div>
            <set:addAvatar bean="#{teacherSettingsBean}"/>
            <div class="floatDestroyer"></div>
        </div>
    </ui:define>
</ui:composition>