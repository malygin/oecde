<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
     xmlns:mess="http://java.sun.com/jsf/composite/components/messages"
    template="../resources/teacherTemplate.xhtml"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
     xmlns:util="http://java.sun.com/jsf/composite/components/util">

    <ui:define name="online">
        #{userViewBean.setType('STUDENT')}
        <h:outputText rendered="#{userViewBean.user.online}" value="On-line"/>
    </ui:define>
    <ui:define name="content">
        <f:metadata>
            <f:viewParam name="id" value="#{userViewBean.id}"/>
             <f:viewParam name="id" value="#{messageDialogBean.recipientId}"/>
        </f:metadata>

        <div class="userFile">
        <util:showPhoto user="#{userViewBean.user}" styleClass="#{userViewBean.user.classType}" size="medium"/>
            <div class="userData InfoAboutUser">
                <table cellspacing="8">
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoSecondName}</p></td><td><div>#{userViewBean.user.surname}</div></td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoFirstName}</p></td><td><div>#{userViewBean.user.name}</div></td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoThirdName}</p></td><td><div>#{userViewBean.user.secondName}</div></td>
                    </tr>
                    <tr style="display: none;">
                        <td><p>#{msgs.student_mainContentUserInfoBirthDay}</p></td><td><div>#{userViewBean.user}</div></td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoFaculty}</p></td><td><div>#{userViewBean.user.group.faculty}</div></td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoSpec}</p></td><td><div>#{userViewBean.user.group.speciality.name}</div></td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoCourse}</p></td><td><div>#{userViewBean.user.group.year}</div></td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoGroup}</p></td><td><div>#{userViewBean.user.group.name}</div></td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <span class="s1 controlWorksDisciplineNameLink">
                                <a href="messages_write.xhtml?user=${userViewBean.user.id}">
                                    #{msgs.student_studentListWriteMessage}
                                </a>
                            </span>

                            <span class="s2 controlWorksDisciplineNameLink">
                                <a href="messages_dialog.xhtml?user=${userViewBean.user.id}">
                                    #{msgs.student_studentLestShowDialog}
                                </a>
                            </span>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="floatDestroyer"></div>
        </div>

  <mess:dialog list="#{messageDialogBean.messagesDialog}"/>
    </ui:define>

</ui:composition>

<!--<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:r="http://java.sun.com/jsp/jstl/core"
    template="../resources/teacherTemplate.xhtml"
    xmlns:est="http://java.sun.com/jsf/composite/components/estimation">

    <ui:define name="content">
        <div class="interfaceContent">
            <f:metadata>
                <f:viewParam name="s" value="#{studentResults.semester}"/>
                <f:viewParam name="id" value="#{studentResults.studentId}"/>
            </f:metadata>
            <h:dataTable styleClass="studentStandatrTable"
                         columnClasses="studentStandatrTableTd,studentStandatrTableSubtableTd" cellpadding="0" cellspacing="0" value="#{studentResults.disciplines}" var="d">
                <h:column>
                    <f:facet name="header">
                        Дисциплина
                    </f:facet>
                    #{d.discipline.name}
                </h:column>
                <h:column>
                    <r:set target="#{studentResults}" value="#{d.id}" property="id"/>
                    кр
                    <h:dataTable style="width: 100%;" cellpadding="0" cellspacing="0"  value="#{studentResults.controlWorks}" var="w">
                        <h:column>
                            <div style="text-align: center;">#{w.points}| #{w.progress}</div>
                            <h:dataTable value="#{w.cwAttempt}" var="a">
                                <h:column>
                                    <est:readCwAttempt attempt="#{a}"/>
                                </h:column>
                            </h:dataTable>
                        </h:column>
                    </h:dataTable>
                    тесты
                    <h:dataTable
                         columnClasses="studentStandatrTableTd,studentStandatrTableTd, studentStandatrTableSubtableTd,studentStandatrTableTd,
                         studentStandatrTableTdLastTd" cellpadding="0" cellspacing="0"  value="#{studentResults.results}" var="r">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Название" />
                            </f:facet>
                            #{r.work.title} #{r.work.id}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Попыток" />
                            </f:facet>
                            с #{r.estimateAttemptsUsedNumber} из #{r.work.estimateAttemptsNumber}<br/>
                            п: #{r.reExameAttemptsUsedNumber} из #{(r.work.type eq 'concluding')?groupTestResults.concludingAttemtpsCount:groupTestResults.regularAttemtpsCount}
                        </h:column>
                        <h:column>
                            <h:dataTable
                                 headerClass="studentTabInStandartTableTh"
                                 columnClasses="studentTabInStandartTableLeftTd, studentTabInStandartTableRightTd"
                                 styleClass="studentTabInStandartTable"  cellpadding="0" cellspacing="0" value="#{r.results}" var="a" id="rowId">
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Правильных ответов" />
                                    </f:facet>
                                    #{a.rightAnswers} #{msgs.student_fromWord} #{r.work.quantity}
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Дата" />
                                    </f:facet>
                                    #{a.date}
                                </h:column>
                            </h:dataTable>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Результат" />
                            </f:facet>
                            #{r.pointsForWork}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Способ оценивания" />
                            </f:facet>
                            #{r.work.estimation}
                        </h:column>
                    </h:dataTable></h:column>
                <hr/>
            </h:dataTable>
        </div>
    </ui:define>

</ui:composition>-->