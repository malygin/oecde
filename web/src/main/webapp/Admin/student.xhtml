<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:h="http://java.sun.com/jsf/html"
     template="../resources/adminTemplate.xhtml"
     xmlns:est="http://java.sun.com/jsf/composite/components/estimation"
     xmlns:ut="http://java.sun.com/jsf/composite/components/util">
    <ui:define name="online">
        #{studentViewBean.setType('STUDENT')}
      
    </ui:define>
    <ui:define name="content">
        <f:metadata>
            <f:viewParam name="id" value="#{studentViewBean.id}"/>
            <f:viewParam name="s" value="#{studentViewBean.semester}"/>
            <f:viewParam name="r" value="#{testResultsBean.reExame}"/>
        </f:metadata>

          <h:outputText rendered="#{studentViewBean.user.online}" value="On-line"/>
        
        <div class="StudentMainPageTitlesBorders">

            <div>
                <div class="mainStudentPageTitles  mainStudentPageTitlesBlue">
                    #{msgs.admin_userInfoStudent}
                    <f:metadata>
                        <f:viewParam name="s" value="#{materialsBean.semester}"/>
                    </f:metadata>
                    <div style="float: right;">
                        <est:changeSemester semester="#{studentViewBean.semester}" link="id=#{studentViewBean.id}"/>
                    </div>
                    <div class="floatDestroyer"/>
                </div>
                <div class="floatDestroyer">
                </div>
       
                    
         <div class="groupInfo">
                <ut:infoAboutStudent pageName="points"/>
            </div>



                <h:dataTable styleClass="studentStandatrTable"
                             columnClasses="studentStandatrTableTd studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTdLastTd studentStandatrTableExamin studentStandatrTableTdWidthTeacher studentStandatrTableTdPaddingTeacher" cellpadding="0" cellspacing="0" id="table" value="#{gradesBean.studentsDisciplines}" var="m" style="margin: 0;">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Дисциплина" />
                        </f:facet>
                        #{m.curriculum.discipline.name}
                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <span class="Ipsilon_Web_GreenText">Тестовые<br/>задания</span>
                        </f:facet>
                        <span class="lightGreyTestText">#{m.concludingTestPoints} * #{m.curriculum.weightTest/100} =</span> <b>#{m.concludingTestPoints*m.curriculum.weightTest/100}</b>
                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Сам. аудиторная работа" />
                        </f:facet>
                        <h:panelGroup >
                            #{m.samAudWorkPoints}
                            <span class="lightGreyTestText">*#{m.curriculum.weightAud/100}= </span><b>#{m.samAudWorkPoints * m.curriculum.weightAud/100}</b>
                        </h:panelGroup>
                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Сам. внеаудиторная работа" />
                        </f:facet>
                        <h:panelGroup >
                            #{m.samAudOutWorkPoints}
                            <span class="lightGreyTestText">* #{m.curriculum.weightOutAud/100} =</span><b> #{m.samAudOutWorkPoints * m.curriculum.weightOutAud/100}</b>
                        </h:panelGroup>

                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Научная и исслед. деятельность по дисциплине" />
                        </f:facet>
                        <h:panelGroup>
                            #{m.personalCharPoints}
                            <span class="lightGreyTestText">* #{m.curriculum.weightPers/100} =</span><b> #{m.personalCharPoints * m.curriculum.weightPers/100}</b>

                        </h:panelGroup>
                    </h:column>


                    <h:column>
                        <f:facet name="header">
                            <span class="Ipsilon_Web_GreenText">Промежуточная аттестация</span>
                        </f:facet>
                        #{m.activityPoints}
                        <span class="lightGreyTestText">* #{m.curriculum.weightAtt/100} =</span><b> #{m.activityPoints * m.curriculum.weightAtt/100}</b>

                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="#{msgs.student_gradesTableHeadSumm}" />
                        </f:facet>
                        <h:panelGroup rendered="#{((m.sum) ne null) and ((m.sum) ne 0)}">
                            <h:panelGroup rendered="#{(m.sum ge 0) and (m.sum le 50)}" styleClass="badResultText">#{m.sum}</h:panelGroup>
                            <h:panelGroup rendered="#{(m.sum gt 50) and (m.sum le 75)}" styleClass="goodResultText">#{m.sum}</h:panelGroup>
                            <h:panelGroup rendered="#{(m.sum gt 75) and (m.sum le 85)}" styleClass="good2ResultText">#{m.sum}</h:panelGroup>
                            <h:panelGroup rendered="#{(m.sum gt 85)}" styleClass="greateResultText">#{m.sum}</h:panelGroup>
                            <span class="lightGreyTestText">#{msgs.student_From} 100</span>
                        </h:panelGroup>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Результат" />
                        </f:facet>
                        <p style="width: 100px; text-align: center;">
                            #{m.grade.toString()}
                        </p>
                    </h:column>

                </h:dataTable>

                <h:panelGroup rendered=" #{studentViewBean.user.group.speciality.levelTypeSpeciality eq 'magistracy'}}">Научно-исследовательская деятельность</h:panelGroup>

                <h:dataTable styleClass="studentStandatrTable"
                             columnClasses="studentStandatrTableTd studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTd studentStandatrTableExamin studentStandatrTableTdPaddingTeacher,
                             studentStandatrTableTdLastTd studentStandatrTableExamin studentStandatrTableTdWidthTeacher studentStandatrTableTdPaddingTeacher"
                             cellpadding="0" cellspacing="0" id="table2" value="#{gradesBean.studentsSA}" var="m" style="margin: 0;" rendered=" #{studentViewBean.user.group.speciality.levelTypeSpeciality eq 'magistracy'}}">


                    <h:column>
                        <f:facet name="header">
                            <span class="Ipsilon_Web_GreenText">Участие в<br/> научных мероприятиях</span>
                        </f:facet>
                         <b>#{m.publishpoints}</b>
                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Научные публикации" />
                        </f:facet>
                        <h:panelGroup >
                                           <b>#{m.samAudWorkPoints}</b>
                        </h:panelGroup>
                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Участие в создании объектов интеллектуальной собственности" />
                        </f:facet>
                        <h:panelGroup >
                             <b> #{m.samAudOutWorkPoints}</b>
                        </h:panelGroup>

                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Участие в конкурсах научных работ, олимпиадах" />
                        </f:facet>
                        <h:panelGroup>
                            <b> #{m.personalCharPoints}</b>
                        </h:panelGroup>
                    </h:column>


                    <h:column>
                        <f:facet name="header">
                            <span class="Ipsilon_Web_GreenText">Другие виды деятельности</span>
                        </f:facet>
                        <b> #{m.activityPoints}</b>

                    </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="#{msgs.student_gradesTableHeadSumm}" />
                        </f:facet>
                        <h:panelGroup rendered="#{((m.sum) ne null) and ((m.sum) ne 0)}">
                            <h:panelGroup rendered="#{(m.sum ge 0) and (m.sum le 50)}" styleClass="badResultText">#{m.sum}</h:panelGroup>
                            <h:panelGroup rendered="#{(m.sum gt 50) and (m.sum le 90)}" styleClass="goodResultText">#{m.sum}</h:panelGroup>
                            <h:panelGroup rendered="#{(m.sum gt 90)}" styleClass="greateResultText">
                                <h:outputText value="#{m.sum}" >
                                    <f:convertNumber maxFractionDigits="2" minIntegerDigits="2"/>
                            </h:outputText>
                            </h:panelGroup>
                            <span class="lightGreyTestText">#{msgs.student_From} 100</span>
                        </h:panelGroup>
                    </h:column>



                </h:dataTable>
<h:form id="form">
<span class="controlWorksDisciplineNameLink"><h:commandLink value="">
    <f:attribute name="reExame" value="#{!testResultsBean.reExame}"/>
    <f:ajax render="form" listener="#{studentViewBean.reExameSwitch}"/>
</h:commandLink></span><br/>


</h:form>

</div>
</div>
        
        
    </ui:define>
</ui:composition>
