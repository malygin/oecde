<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:r="http://java.sun.com/jsp/jstl/core"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ut="http://java.sun.com/jsf/composite/components/util"
    xmlns:sec="http://www.springframework.org/security/facelets/tags"
    template="baseTemplate.xhtml">
    <ui:define name="userCSS">
        <h:outputStylesheet name="teacher.css" library="css" rendered="true"/>
    </ui:define>
    <ui:define name="left">
        <div class="blueMenuTitle"><p class="sideBarTitle">#{msgs.teacher_groupsMenuTitle}</p></div>
        <h:form>
            <table  style="width: 100%;border-bottom: #5EBED9 1px solid; text-align: left; padding-left: 8px; font-size: 9pt !important;"  class="controlWorksDisciplineNameLink DisciplineText">
                <tr>
                    <td>#{msgs.teacher_CurrentSemester}:</td>
                    <td><h:outputText id="sName" value="#{changeSemesterBean.semesterName(teachersGroups.semester)}"/>
                    </td>
                    </tr>
                    <tr>
                        <td>#{msgs.teacher_ShowSemester}:</td>
                    <td><h:commandLink id="handle" style="text-decoration: none;">
                    <f:ajax event="click" render="table sName next" listener="#{teachersGroups.changeSemester}"/>
                    <f:attribute name="semester" value="#{teachersGroups.semester==0?1:0}"/>
                    <h:outputText id="next" value="#{changeSemesterBean.inversedSemesterName(teachersGroups.semester)}"/>
                </h:commandLink>
                    </td>
                </tr>
            </table>
            <div style="font-size: 8pt;border: 1px solid silver; margin: 5px; padding: 5px; height: 450px; overflow-x: hidden;">
                <h:dataTable cellpadding="0" cellspacing="0" id="table" value="#{teachersGroups.teachersGroups}" var="w">
                    <h:column>
                        <div style="width: 100%; text-align: left;" class="groupsLinks controlWorksDisciplineNameLink">
                            <h:outputLink value="discipline.xhtml?id=#{w.key.id}">#{w.key.name}#{w.key.id}</h:outputLink>
                            <h:outputText value="#{w.key.rusShort}"/>
                        </div>
                        <h:dataTable id="groups" value="#{w.value}" style="margin: 0px; padding: 0px; text-align: left; margin-left: 20px;" cellpadding="0" cellspacing="0" var="g">
                            <h:column>
                                <span class="groupsLinks" style="width: 100%;">
                                    <h:outputLink value="groupPoints.xhtml?g=#{g.id}&amp;s=#{teachersGroups.semester}">#{g.name}</h:outputLink>
                                </span>
                            </h:column>
                        </h:dataTable>
                    </h:column>
                </h:dataTable>
            </div>
        </h:form>
    </ui:define>

    <ui:define name="top">
        <ol class="topMenuLinks">
            <li class="topMenuLinkContainer"><a href="index.xhtml">#{msgs.student_topMenuHome}</a></li>
            <li class="topMenuLinkContainer"><a href="support.xhtml">#{msgs.student_topMenuHelp}</a></li>
            <li class="topMenuLinkContainer"><a href="support.xhtml?i=true">#{msgs.student_topMenuInfo}</a></li>
            <li class="topMenuLinkContainer"><a href="news_list.xhtml">#{msgs.student_topMenuNews}</a></li>
            <li class="topMenuLinkContainer"><a href="settings.xhtml">#{msgs.student_topMenuSettings}</a></li>
            <li class="topMenuLinkContainer" style="border: 0px; float: right">

            <sec:ifAnyGranted roles="ROLE_PREVIOUS_ADMINISTRATOR">
                <h:outputLink value="../Admin/exit_user" >Назад</h:outputLink>
            </sec:ifAnyGranted>
            <sec:ifNotGranted roles="ROLE_PREVIOUS_ADMINISTRATOR">
                <h:outputLink value="../j_spring_security_logout" >#{msgs.student_topMenuExit}</h:outputLink>
            </sec:ifNotGranted>
            </li>

            <li style="clear: both;"></li>
        </ol>
    </ui:define>
    <ui:define name="content">
        #{msgs.teacher_StudentContent}
    </ui:define>
    <ui:define name="right">
        <div class="greenMenuTitle"><p class="sideBarTitle">#{msgs.student_comMenuTitle}</p></div>
        <ol class="leftSideMenuLinks">
            <li><a href="curriculums.xhtml">#{msgs.teacher_communicationMenuMyCources}</a></li>
            <li><a href="controlWorksAttempts.xhtml">#{msgs.teacher_communicationMenuAllCw}</a></li>
            <li><a href="schedule.xhtml">#{msgs.teacher_communicationSchedule}</a></li>
            <li><a href="forum.xhtml?type=TEACHER_FAQ">#{msgs.student_comMenuForumTech}</a></li>
            <li><a href="forum.xhtml?type=TEACHER_ORG">#{msgs.student_comMenuForumOrg}</a></li>
            <li><p>#{msgs.student_comMenuVideoconferencing}</p></li>
        </ol>
          <div class="greenMenuTitle"><p class="sideBarTitle">#{msgs.student_messMenuTitle}</p></div>
        <div class="sideBarUnderTitleText"><div class="greenUnderTitleLink"><a href="messages_list.xhtml">#{msgs.student_messMenuIn}
                    <h:panelGroup rendered="#{MessageCountNewBean.newMessages>0}"  style="font-size: 15px; font-weight: bold; color: red;">#{MessageCountNewBean.newMessages}</h:panelGroup>
                    <h:panelGroup rendered="#{MessageCountNewBean.newMessages&lt;1}">#{MessageCountNewBean.newMessages}</h:panelGroup>
                    )</a></div></div>
        <ol class="leftSideMenuLinks">
            <li><a href="messages_out.xhtml">#{msgs.student_messMenuOut}</a></li>

        </ol>
        <div class="violMenuTitle"><p class="sideBarTitle">#{msgs.student_chatMenuTitle}</p></div>
         <div id="chatShortHistory1" class="chatShortHistory">
        </div>
        <div class="smallChatTools">
            <input id="message1"/><button id="button1"></button>
            <div style="height:18px;"></div>
        </div>
        <ut:usersOnline/>
    </ui:define>
    <ui:define name="bottom">
        <ol class="bottomMenu">
            <li class="bottomMenuLinkContainer">
                <a href="support.xhtml">#{msgs.student_bottMenuHelp}</a>
            </li>
            <li class="bottomMenuLinkContainer">
                <a href="support.xhtml?i=true">#{msgs.student_bottMenuInfo}</a>
            </li>
            <li class="bottomMenuLinkContainer" style="border: 0px;">
                <a href="settings.xhtml">#{msgs.student_bottMenuSettings}</a>
            </li>
            <li class="copyrightCOO">
                <p>
                    #{msgs.copyright}
                </p>
            </li>
            <li class="floatDestroyer"></li>
        </ol>
    </ui:define>
</ui:composition>