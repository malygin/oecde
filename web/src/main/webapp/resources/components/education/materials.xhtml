<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:r="http://java.sun.com/jsp/jstl/core"
    template="../resources/studentTemplate.xhtml"
    xmlns:est="http://java.sun.com/jsf/composite/components/estimation"
    xmlns:tabs="http://java.sun.com/jsf/composite/components/tabs"
    xmlns:edu="http://java.sun.com/jsf/composite/components/education"
    >

    <ui:define name="contentHeader">
        #{msgs.student_myMaterials}
    </ui:define>
    <ui:define name="content">
        <div class="StudentMainPageTitlesBorders" style="margin-left: 2%; width: 66%; float: left;">
        
            <div>
            <div class="mainStudentPageTitles  mainStudentPageTitlesSkyBlue">
                <p class="floatLeft mainStudentPageTitles skyBlueText" style="width: 70%; padding: 0;">
                    Мои изучаемые материалы
                </p>
            <f:metadata>
                <f:viewParam name="s" value="#{materialsBean.semester}"/>
            </f:metadata>
                <div style="float: right;">
                    <est:changeSemester semester="#{materialsBean.semester}" />
                </div>
                <div class="floatDestroyer"/>
            </div>
            <div class="floatDestroyer"></div>

            <h:dataTable value="#{materialsBean.studentsDisciplines}" var="m" styleClass="leftMenuContainer">
                <h:column>
                    <br />
                <div>
                    <span class="controlWorksDisciplineNameLink studentPaddLeft"><h:outputLink value="discipline.xhtml?c=#{m.curriculum.id}" style=" font-size: 11pt !important;">#{m.curriculum.umk.name}</h:outputLink><br/></span>

                    <div class="materialInfo">
                        <table style="margin: 10px;">
                            <tr>
                                <td>Преподаватель</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>#{msgs.student_finishedTests}</td>
                                <td><span> #{m.passedTests}</span> #{msgs.student_fromWord} #{m.testsCount}</td>
                            </tr>
                            <tr>
                                <td>#{msgs.student_testResults}</td>
                                <td><span> #{m.reTestPoints==0?m.testPoints:m.reTestPoints}</span></td>
                            </tr>
                            <tr>
                                <td>#{msgs.student_mainTest} </td>
                                <td><span>#{m.concludingReTestPoints==0?m.concludingTestPoints:m.concludingReTestPoints}</span></td>
                            </tr>
                        </table>

                        <div class="progressBarMaterials">
                            <div style="background: #FBB35D; height: 12px; width:#{m.passedTests/m.testsCount*100}%;">
                            </div>
                        </div>
                    </div>
                    <br />
                </div>
                    </h:column>
            </h:dataTable>
           
        </div>
        </div>


        <div class="StudentMainPageTitlesBorders" style="width: 28%; margin-left: 70%">

        <div class="interfaceContent interfaceContentForMyMarks">
            <div class="mainStudentPageTitles  mainStudentPageTitlesSkyBlue">
            Подсказка
            </div>
         </div>
            <div class="textForPodskazka">
            <p>Текст подсказки Текст подсказки Текст подсказки Текст подсказки Текст подсказки Текст подсказки
            Текст подсказки Текст подсказки Текст подсказки Текст подсказки Текст подсказки Текст подсказки</p>
            <p>Текст подсказки Текст подсказки Текст подсказки Текст подсказки Текст подсказки Текст подсказки
            Текст подсказки Текст подсказки Текст подсказки Текст подсказки Текст подсказки Текст подсказки</p>
            </div>
         </div>

        <div style="width: 33%; margin-left: 68%">
        <edu:calendareInfo />
        <!--<div class="interfaceContent interfaceContentForMyMarks">
            <div class="mainStudentPageTitles mainStudentPageTitlesOrange">
            Оповещения
            </div>
         </div>
         <div>
            <table class="notificationTableTextOrange2" cellpadding="0" cellspacing="0">
                <tr>
                    <td><p>Открытие тестов</p>
                    </td>
                    <td><p><h:outputText converter="dateConverter" value="#{resourceService.regularTestBeginDate}"/></p>
                    </td>
                </tr>
                <tr>
                    <td><p>Открытие контрольных</p>
                    </td>
                    <td><p> <h:outputText converter="dateConverter" value="#{studentIndexBean.getDate('controlWorksBeginDate')}"/></p>
                    </td>
                </tr>
                <tr>
                    <td><p>Открытие итоговых тестов</p>
                    </td>
                    <td><p> <h:outputText converter="dateConverter" value="#{resourceService.concludingTestBeginDate}"/></p>
                    </td>
                </tr>
                <tr>
                    <td><p>Начало переэкзаменовки</p>
                    </td>
                    <td><p> <h:outputText converter="dateConverter" value="#{resourceService.reExameBeginDate}"/></p>
                    </td>
                </tr>
                <tr>
                    <td><p>Закрытие тестов</p>
                    </td>
                    <td><p><h:outputText converter="dateConverter" value='#{resourceService.regularTestEndDate}'/></p>
                    </td>
                </tr>
                <tr>
                    <td><p>Закрытие контрольных </p>
                    </td>
                    <td><p> <h:outputText converter="dateConverter" value="#{studentIndexBean.getDate('controlWorksEndDate')}"/></p>
                    </td>
                </tr>
                <tr>
                    <td><p>Закрытие итоговых тестов</p>
                    </td>
                    <td><p> <h:outputText converter="dateConverter" value="#{resourceService.concludingTestEndDate}"/></p>
                    </td>
                </tr>
                <tr>
                    <td><p>Окончание переэкзаменовки</p>
                    </td>
                    <td><p> <h:outputText converter="dateConverter" value="#{resourceService.reExameEndDate}"/></p>
                    </td>
                </tr>
            </table>
        </div>-->
        </div>
    </ui:define>
</ui:composition>
