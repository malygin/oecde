<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:composite="http://java.sun.com/jsf/composite"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">

 <!-- INTERFACE -->
  <composite:interface>
    <composite:attribute  name="list"/>
  </composite:interface>

 <style type="text/css">
     .mainStyle .adminIndent{
         display: block;
         padding-left: 20px;
}
 </style>
  <!-- IMPLEMENTATION -->
    <composite:implementation>
        <div style="margin-left: 20px;">
        <h:dataTable value="#{cc.attrs.list}" var="new"  styleClass="adminIndent" >
                <h:column>
                    <h:form id="formList">
                         <h:outputText  rendered="#{NewsBean.renderDeleteSuccess}" value="Удалена новость"/>
                         <h:commandLink rendered="#{not NewsBean.renderDeleteSuccess}"  action="#{NewsBean.delete}" value="Удалить" >
                            <f:setPropertyActionListener target="#{NewsBean.newIdDelete}" value="#{new.id}" />
                            <f:ajax  execute="@this" render="@form" />
                         </h:commandLink>
                         <h:outputLink value="news_read.xhtml?id=#{new.id}" rendered="#{not NewsBean.renderDeleteSuccess}">
                            Редактировать
                        </h:outputLink>
                         <br/>
                         <div style="margin-top: 8px; margin-bottom: 8px;">
                         <span style="color: grey; font-family:tahoma;">#{new.time}</span>
                        <span style="color:#4593DF; font-weight: bolder; margin-left: 10px;"> #{new.header}</span>
                         </div>
                         <div style="margin-bottom: 8px;">
                         <h:outputText escape="false" value="#{new.announcement}" />
                         </div>
                         <div style="margin-bottom: 20px; color: grey;">Количество просмотров:<span  style="color:#373E3F;font-weight: bolder;">#{new.reviewNumber}</span></div>
                  
                 
                    </h:form>
                </h:column>
            </h:dataTable>
          </div>
  </composite:implementation>
</html>