<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:composite="http://java.sun.com/jsf/composite"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">

 <!-- INTERFACE -->
  <composite:interface>
    <composite:attribute  name="list"/>
  </composite:interface>

 <style type="text/css">
 </style>
  <!-- IMPLEMENTATION -->
    <composite:implementation>
        <div style="margin-left: 20px;">
        <h:dataTable value="#{cc.attrs.list}" var="n">
                <h:column>
                    <h:form id="formList" styleClass="newsBlocks">
                         <div style="margin-top: 8px; margin-bottom: 8px;">
                         <span style="color: grey; font-family:tahoma; font-size: 8pt;"><h:outputText converter="dateConverter" value="#{n.time}"/></span>
                         <span>
                        <span style="color:#077F5B; font-weight: bolder;margin-left: 20px;"> #{n.header}</span>
                         </span>
                         </div>
                         <div style="margin-bottom: 8px;">
                         <h:outputText escape="false" value="#{n.announcement}" />
                         </div>
                         <div style="margin-bottom: 10px; color:#577F7E;">Количество просмотров:<span  style="color:#5A6C6F;font-weight: bolder;">#{n.reviewNumber}</span></div>
                          <h:outputText  rendered="#{NewsBean.renderDeleteSuccess}" value="Удалена новость"/>
                         <span class="controlWorksDisciplineNameLinkGrey" style="background: url('../resources/images/news_delete.gif') no-repeat 0 0; margin-right: 20px;">
                         <h:commandLink rendered="#{not NewsBean.renderDeleteSuccess}"  action="#{NewsBean.delete}" value="Удалить" style="margin-left: 16px;">
                            <f:setPropertyActionListener target="#{NewsBean.newIdDelete}" value="#{n.id}" />
                            <f:ajax  execute="@this" render="@form" />
                         </h:commandLink>
                          </span>
                         <span class="controlWorksDisciplineNameLinkGrey" style="background: url('../resources/images/news_edit.gif') no-repeat 0 0;">
                         <h:outputLink value="news_read.xhtml?id=#{n.id}" rendered="#{not NewsBean.renderDeleteSuccess}" styleClass="AdminNavigationLinks" style="margin-left: 16px;">
                            Редактировать
                        </h:outputLink>
                         </span>
                  
                 
                    </h:form>
                </h:column>
            </h:dataTable>
          </div>
  </composite:implementation>
</html>