<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ut="http://java.sun.com/jsf/composite/components/util"
      xmlns:sec="http://www.springframework.org/security/facelets/tags"
      >


 <!-- INTERFACE -->
  <composite:interface>
      <composite:attribute name="type" required="true" type="java.lang.String" shortDescription="тип пользователя"/>
      <composite:attribute name="u" required="true" type="org.sgu.oecde.core.users.AbstractUser" shortDescription="пользователь"/>
  </composite:interface>

  <!-- IMPLEMENTATION -->
   <composite:implementation>
       <style type="text/css">
       </style>
       <div style="float: left; margin-right: 20px;">
           <ut:showPhoto user="#{cc.attrs.u}" styleClass="#{cc.attrs.u.classType}" size="medium"/>
       </div>
        <div class="standartContainerForTeacherInfoInTeachersList">
            <table style="height:100%">
                <tr>
                    <td style="color:#808080;">
                        #{msgs.student_studentListFIO}
                    </td>
                    <td>
                        <span class="linkTo#{cc.attrs.u.class.simpleName}sProfile">
                            <a href="#{cc.attrs.type}.xhtml?id=#{cc.attrs.u.id}">
                                #{cc.attrs.u.fio}
                            </a>
                        </span>
                    </td>
                </tr>
                <h:panelGroup rendered="#{cc.attrs.type eq 'student'}">
                    <tr><td style="color:#808080;">Город:</td><td>#{cc.attrs.u.city.name}</td></tr>
                    <tr><td style="color:#808080;">Специальность:</td><td>#{cc.attrs.u.group.speciality.name}</td></tr>
                    <tr><td style="color:#808080;">Группа:</td><td>#{cc.attrs.u.group.name}</td></tr>
                    <tr><td style="color:#808080;">Курс:</td><td>#{cc.attrs.u.group.year}</td></tr>
                </h:panelGroup>
                <h:panelGroup rendered="#{cc.attrs.type eq 'admin'}">
                    <tr><td style="color:#808080;">Должность:</td><td>#{cc.attrs.u.position}</td></tr>
                    <tr><td style="color:#808080;">Описание:</td><td>#{cc.attrs.u.description}</td></tr>
                </h:panelGroup>
                <h:panelGroup rendered="#{cc.attrs.type eq 'teacher'}">
                    <tr><td style="color:#808080;">Отдел:</td><td>#{cc.attrs.u.department.name}</td></tr>
                    <tr>
                        <td style="color:#808080;">
                            Дисциплина:
                        </td>
                        <td class="controlWorksDisciplineNameLink" style="font-size: 8pt; font-weight: normal !important;">
                            <h:outputLink value="discipline.xhtml?c=#{t.key['discipline'].id}">
                            #{t.key['discipline'].name}
                            </h:outputLink>
                        </td>
                    </tr>
                </h:panelGroup>
                <tr>
                    <td colspan="2" class="navigationLinks" style="height: 50px; vertical-align: bottom;">
                        <span class="s1"><a href="messages_write.xhtml?user=${cc.attrs.u.id}">#{msgs.student_studentListWriteMessage}</a></span> <span class="s2"><a href="messages_dialog.xhtml?user=${cc.attrs.u.id}">#{msgs.student_studentLestShowDialog}</a></span>
                    </td>
                    <sec:ifAnyGranted roles="ROLE_ADMIN">
                       <td colspan="2" class="navigationLinks">
                          <h:outputLink value="switch_user?j_username=#{cc.attrs.u.username}" >Зайти</h:outputLink>
                       </td>
                    </sec:ifAnyGranted>
                </tr>
            </table>
        </div>
       <div class="floatDestroyer"></div>
   </composite:implementation>
</html>
