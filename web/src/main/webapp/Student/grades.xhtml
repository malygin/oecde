<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="../resources/studentTemplate.xhtml"
    xmlns:est="http://java.sun.com/jsf/composite/components/estimation">
    <ui:define name="contentHeader">
        #{msgs.student_grades}
    </ui:define>
    <ui:define name="content">
        <div class="interfaceContent interfaceContentForMyMarks">
            
            <f:metadata>
                <f:viewParam name="s" value="#{gradesBean.semester}"/>
            </f:metadata>
            <div class="changeSemWithoutBorder">
                <est:changeSemester semester="#{gradesBean.semester}"/>
            </div>
            <div  class="controlWorksDisciplineNameLink helpLink">
                <a href="#help" class="help_part_href">#{msgs.student_marksHelp}</a>
            </div>
            <div>
            <h:dataTable  value="#{gradesBean.points}"
                         columnClasses="studentStandatrTableTd studentStandatrTableTdWithBorderBrighter studentStandatrTableTdFirstWidth,
                         studentStandatrTableTd studentStandatrTableTdWithBorderBrighter linkToTeachersProfileFromStudent studentStandatrTableCenter student_gradesTableHeadTeacherWidth,
                         studentStandatrTableTd studentStandatrTableTdWithBorderBrighter studentStandatrTableCenter,
                         studentStandatrTableTd studentStandatrTableTdWithBorderBrighter studentStandatrTableCenter,
                         studentStandatrTableTd studentStandatrTableTdWithBorderBrighter studentStandatrTableCenter,
                         studentStandatrTableTd studentStandatrTableTdWithBorderBrighter studentStandatrTableCenter,
                         studentStandatrTableTd studentStandatrTableTdWithBorderBrighter studentStandatrTableCenter,
                         studentStandatrTableTd studentStandatrTableTdWithBorderBrighter studentStandatrTableCenter,
                         studentStandatrTableTd studentStandatrTableTdWithBorderBrighter studentStandatrTableCenter,
                         studentStandatrTableTdLastTd studentStandatrTableTdWithBorderBrighter studentStandatrTableCenter" var="p" styleClass=" StudentTablePadding studentStandatrTable " cellpadding="0" cellspacing="0" style="margin: 0px;">

                <h:column>
                    <f:facet name="header">
                        <h:outputText value="#{msgs.student_gradesTableHeadDisc}" />
                    </f:facet>
                    <span class="controlWorksDisciplineName studentStandatrTableCenter controlWorksDisciplineNameLink"><h:outputLink value="umk.xhtml?c=#{p.points.curriculum.id} ">#{p.points.curriculum.discipline.name}</h:outputLink></span>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:graphicImage value='../resources/images/teacherTable.png'/>
                    </f:facet>
                        <span class="linkToTeachersProfile studentStandatrTableCenter" style="background: none; padding: 0;"><h:outputLink value="teacher.xhtml?id=${p.teacher.id}">#{p.teacher.initials}</h:outputLink></span>
                </h:column>
                <h:column>
                    <f:facet name="header">
                        <h:graphicImage value='../resources/images/testTable.png'/>
                    </f:facet>
                    #{p.test} <span style="color:#808080;">(#{p.testsMaxPoints})</span>
                </h:column>

                <h:column>
                    <f:facet name="header">
                       <h:graphicImage value='../resources/images/reexTable.png'/>
                    </f:facet>
                    #{p.reTest}
                </h:column>

                <h:column>
                    <f:facet name="header">
                       <h:graphicImage value='../resources/images/resultTestsTable.png'/>
                    </f:facet>
                   #{p.concludingTest} <span style="color:#808080;">(#{p.concludingTestsMaxPoints})</span>
                </h:column>

                <h:column>
                    <f:facet name="header">
                       <h:graphicImage value='../resources/images/resultTestExam.png'/>
                    </f:facet>
                    #{p.concludingReTest}
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:graphicImage value='../resources/images/contrMarksTable.png'/>
                    </f:facet>
                    #{p.controlWorkPoints}
                </h:column>

                <h:column>
                    <f:facet name="header">
                        <h:graphicImage value='../resources/images/contrWorksTable.png'/>
                    </f:facet>
                    <h:outputText converter="enumConverter" value="#{p.controlWorkValue}"/>
                </h:column>

                <h:column>
                    <f:facet name="header">
                       <h:graphicImage value='../resources/images/summTable.png'/>
                    </f:facet>
                    #{p.points.sum}
                </h:column>

                <h:column>
                    <f:facet name="header">
                       <h:graphicImage value='../resources/images/resultTable.png'/>
                    </f:facet>
                    <h:outputText converter="enumConverter" value="#{p.grade}"/>
                </h:column>
            </h:dataTable>
            </div>
            <div class="prosto_tekst">
                <a name="help"></a>
                <p class="help_part">#{msgs.student_marksHelps}</p>
                <p class="comment">Текст подсказки по этому разделу</p>
            </div>
            </div>
    </ui:define>
</ui:composition>
