<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:r="http://java.sun.com/jsp/jstl/core"
    template="../resources/studentTemplate.xhtml"
    xmlns:est="http://java.sun.com/jsf/composite/components/estimation">
    >

    <ui:define name="contentHeader">
        #{msgs.student_myMaterials}
    </ui:define>
    <ui:define name="content">
        <div class="interfaceContent">
            <f:metadata>
                <f:viewParam name="s" value="#{materialsBean.semester}"/>
            </f:metadata>
            <est:changeSemester semester="#{materialsBean.semester}"/>
            <r:forEach items="#{materialsBean.studentsDisciplines}" var="m" varStatus="i">
                <div style="width: 100%;" class="controlWorksBorders">
                    <span class="controlWorksDisciplineNameLink" style="padding-left: 10px;"><h:outputLink value="discipline.xhtml?c=#{m.curriculum.id}" style=" font-size: 11pt !important;">#{m.curriculum.umk.name}</h:outputLink><br/></span>
                    
                    <div class="materialInfo DisciplineText" style="padding-top: 5px; font-size: 9pt; font-family: Verdana,'Verdana CE',Arial,'Arial CE','Lucida Grande CE',lucida,'Helvetica CE',sans-serif">
                        <p> ${msgs.student_finishedTests}<span> #{m.passedTests} ${msgs.student_fromWord} #{m.testsCount} <div class="progressBarMaterials">
                        <div style="background: #B5CFB5; height: 12px; width:#{m.passedTests/m.testsCount*100}%;">
                        </div>
                        </div>
                                </span>
                            </p>
                    
                        <p> ${msgs.student_testResults}<span> #{m.reTestPoints==0?m.testPoints:m.reTestPoints}</span></p>
                       <p>${msgs.student_mainTest} <span>#{m.concludingReTestPoints==0?m.concludingTestPoints:m.concludingReTestPoints}</span></p>
                    </div>
                </div>
            </r:forEach>
        </div>
    </ui:define>
</ui:composition>