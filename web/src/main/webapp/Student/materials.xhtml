<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:r="http://java.sun.com/jsp/jstl/core"
    template="../resources/studentTemplate.xhtml"
    xmlns:est="http://java.sun.com/jsf/composite/components/estimation">
    >

    <ui:define name="contentHeader">
        #{msgs.student_myMaterials}
    </ui:define>
    <ui:define name="content">
        <style type="text/css">
            .mainStyle div.interfaceContent{
                padding: 0px;
            }

             .controlWorksBorders{
                    border-bottom: 1px solid #D1E0EF;
                     padding-bottom: 10px;
                    padding-top: 10px;
                }
                .materialInfo p{
                    padding-bottom: 5px;
                    padding-left: 17px;
}
                .materialInfo span{
                       color: #1D1F1F;
                       /*font-weight: bolder;*/
                }
                .materialInfo p:nth-child(1){
                   background:  url("../resources/images/control_works_little.gif") no-repeat ;
                }
                .materialInfo p:nth-child(2){
                   background:  url("../resources/images/test_results_little.gif") no-repeat;
                   background-position: -2px 0;
                }
                .materialInfo p:nth-child(3){
                     background:  url("../resources/images/test_result_little.gif") no-repeat;
                }
               
        </style>
        <div class="interfaceContent">
            <f:metadata>
                <f:viewParam name="s" value="#{materialsBean.semester}"/>
            </f:metadata>
            <est:changeSemester semester="#{materialsBean.semester}"/>
            <r:forEach items="#{materialsBean.studentsDisciplines}" var="m" varStatus="i">
                <div style="width: 100%;" class="controlWorksBorders">
                    <span class="controlWorksDisciplineNameLink" style="padding-left: 10px;"><h:outputLink value="discipline.xhtml?c=#{m.curriculum.id}" >#{m.curriculum.umk.name}</h:outputLink><br/></span>
                    
                    <div class="materialInfo DisciplineText" style="padding-top: 5px; font-size: 9pt; font-family: Verdana,'Verdana CE',Arial,'Arial CE','Lucida Grande CE',lucida,'Helvetica CE',sans-serif">
                        <p> ${msgs.student_finishedTests}<span> #{m.passedTests} ${msgs.student_fromWord} #{m.testsCount}</span></p>
                        <p> ${msgs.student_testResults}<span> #{m.reTestPoints==0?m.testPoints:m.reTestPoints}</span></p>
                       <p>${msgs.student_mainTest} <span>#{m.concludingReTestPoints==0?m.concludingTestPoints:m.concludingReTestPoints}</span></p>
                    </div>
                </div>
            </r:forEach>
        </div>
    </ui:define>
</ui:composition>