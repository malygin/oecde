<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="../resources/studentTemplate.xhtml"
    >
    <ui:define name="contentHeader">
        #{disciplineBean.discipline.umk.name}
    </ui:define>
    <ui:define name="content">
         <div style="padding: 15px; text-align: right;" class="controlWorksDisciplineNameLink">
            <a href="materials.xhtml" style="font-size: 10pt !important;">Назад</a>
        </div>
        <div class="interfaceContent">
            <f:metadata>
                <f:viewParam name="c" value="#{disciplineBean.curriculumId}"/>
            </f:metadata>
            <h:outputText rendered="#{disciplineBean.accessDenied}" value="Не найден или не доступен" />
            <ui:repeat value="#{disciplineBean.discipline.umk.modules}" var="m" varStatus="k">
                <div class="studentInterfaceStandartList">
                    <div class="controlWorksDisciplineName" style="background: url('../resources/images/moduls.gif') no-repeat; padding-left: 20px;">#{k.index+1}. #{m.name}</div>
                    <ui:repeat value="#{m.resources}" var="r" varStatus="i">
                        <div class="navigationLinks" style="margin-left: 20px;">
                            #{i.index+1} <a href="exbook.xhtml?cId=#{disciplineBean.curriculumId}&amp;mId=#{m.id}&amp;tId=#{r.id}" style="text-decoration: none;">#{r.title}</a>
                        </div>
                    </ui:repeat>
                </div>
            </ui:repeat>
            <br/>
            <div style="color: #27587F;font-family: Arial;font-size:12pt;margin-left: 10px;font-weight: bolder;">
                Тесты:
            </div>
            <h:dataTable value="#{disciplineBean.tests}" var="t">
                <h:column>
                <div class="studentInterfaceStandartList">
                        <h:panelGroup rendered="#{t[0]}">
                            <div class="controlWorksDisciplineNameLink">
                                <h:outputLink value="test.xhtml?c=#{disciplineBean.discipline.id}&amp;id=#{t[1].work.id}" style=" font-size: 11pt !important;" >
                                    #{t[1].work.title}
                                </h:outputLink>
                            </div>
                        </h:panelGroup>
                        <h:panelGroup rendered="#{!t[0]}">
                            <div class="controlWorksDisciplineName">
<!--                                <h:outputText rendered="#{t[2]==null}" style="color: grey;" value="#{t[1].work.title}"/>-->
<!--                                 <h:outputText rendered="#{t[3]==null}" style="color: grey;" value="#{t[1].work.title}"/>-->
                                  <h:outputText rendered="#{t[4]==null}" style="color: grey;" value="#{t[1].work.title}"/>
                            </div>
                        </h:panelGroup>
                    <div style="margin-left: 20px; margin-top: 5px;">
                        <h:outputText rendered="#{t[2]!=null}" style="color: #EF596D; display: block;" value="#{t[2]}"/>
                        <h:outputText rendered="#{t[3]!=null}" style="color: #EF596D; display: block;" value="#{t[3]}"/>
                        <h:outputText rendered="#{t[4]!=null}" style="color: #EF596D; display: block;" value="#{t[4]}"/>
<!--                         <h:outputText rendered="#{t[2]==null}" style="margin-top: -40px; display: block;"/>-->
<!--                          <h:outputText rendered="#{t[3]==null}" style="margin-top: -40px; display: block;"/>-->
<!--                        <h:outputText rendered="#{t[4]==null}" style="margin-top: -40px; display: block;"/><br/>-->
                        <h:outputText rendered="#{t[4]==null}" style="color: grey;background: url('../resources/images/attemps.gif') 2px 1px no-repeat; padding-left: 18px;" value="попыток: #{t[1].estimateAttemptsUsedNumber} из #{t[1].work.estimateAttemptsNumber}"/>
                        <h:outputText rendered="#{t[4]!=null}" >попыток: <span>#{t[1].estimateAttemptsUsedNumber} из #{t[1].work.estimateAttemptsNumber}</span></h:outputText><br/>
                        <h:outputText rendered="#{t[4]==null}" style="color: grey; background: url('../resources/images/tryingAttemps.gif') no-repeat; padding-left: 18px;" value="пробных:#{t[1].trialAttemptsUsedNumber} из #{t[1].work.trialNumber}"/>
                        <h:outputText rendered="#{t[4]!=null}" >пробных: <span>#{t[1].trialAttemptsUsedNumber} из #{t[1].work.trialNumber}</span></h:outputText><br/>
                       <h:outputText rendered="#{t[4]==null}" style="color: grey; background: url('../resources/images/arrows.gif') 2px 1px no-repeat; padding-left: 18px;" value="переэкзаменовка: #{t[1].reExameAttemptsUsedNumber}" />
                        <h:outputText rendered="#{t[4]!=null}" >переэкзаменовка: <span>#{t[1].reExameAttemptsUsedNumber}</span></h:outputText><br/>
                        <h:outputText rendered="#{t[1].work.openDate ne null and t[1].work.closeDate ne null}" value="доступен с #{t[1].work.openDate} по #{t[1].work.closeDate}" style="background: url('../resources/images/available.gif') no-repeat; padding-left: 18px;"/><br/>
                        <h:outputText rendered="#{t[4]==null}" style="color: grey; background: url('../resources/images/star.gif') no-repeat; padding-left: 18px;" value="количество вопросов: #{t[1].work.quantity}"/>
                        <h:outputText rendered="#{t[4]!=null}" >количество вопросов:  <span>#{t[1].work.quantity}</span></h:outputText><br/>
                        <h:outputText rendered="#{t[4]==null}" style="color: grey;background: url('../resources/images/time.gif')2px 0 no-repeat; padding-left: 18px;" value="предоставленное время: #{t[1].work.duration}"/>
                        <h:outputText rendered="#{t[4]!=null}" >предоставленное время:  <span>#{t[1].work.duration}</span></h:outputText><br/>
                        <h:outputText rendered="#{t[4]==null}" style="color: grey; background: url('../resources/images/discipline_summ.gif') no-repeat; padding-left: 18px;" value="результаты тестирования: #{t[1].pointsForWork}"/>
                        <h:outputText rendered="#{t[4]!=null}" >результаты тестирования: <span>#{t[1].pointsForWork}</span></h:outputText><br/>
                    </div>
                </div>
                </h:column>
            </h:dataTable>
        </div>
       
    </ui:define>
</ui:composition>
