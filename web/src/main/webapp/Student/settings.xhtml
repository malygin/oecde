<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="../resources/studentTemplate.xhtml"
    xmlns:ut="http://java.sun.com/jsf/composite/components/util"
    xmlns:set="http://java.sun.com/jsf/composite/components/settings">
    >
    <h:head>
         <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!--        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <script type="text/javascript" src="../resources/jquery/js/jquery-1.4.2.min.js"></script>-->
<!--         <script type="text/javascript" src="../resources/jquery/js/jquery.maskedinput-1.2.2.js"></script>-->
<!--        <script type="text/javascript" src="jquery-1.2.6.js"></script>
        <script type="text/javascript" src="jquery.validate-1.5.1.js"></script>-->

              
       
<!--        <script type="text/javascript"src="../resources/jquery/js/"></script>-->


<!-- <script type="text/javascript" src="jquery-1.3.2.min.js"></script>-->
<!--<script type="text/javascript">
$(document).ready(function() {
 $("#validate").keyup(function(){

    var email = $("#validate").val();

    if(email != 0)
    {
    if(isValidEmailAddress(email))
    {
    $("#validEmail").html("");
    } else {
    $("#validEmail").html("неправильный    e-mail");
    }
    } else {
    $("#validEmail").html("введите e-mail");
    }

    });


    });


    function isValidEmailAddress(emailAddress) {
    var pattern = new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);
    return pattern.test(emailAddress);
    }

</script>-->
    </h:head>
    <ui:define name="content">
        <style type="text/css">
            .s tr td p{
                color: #1D719F !important;
}
        </style>
        <div class="userFile">
            <div style="float: right; width: 78%; text-align: left;">
                <h:form>
                    <div class="userData" style="float: none; width: 60%;">
                        <table style="width: 100%;" class="s">
                            <tr>
                                <td>
                                    <p>Мобильный телефон:</p>
                                </td>
                                <td>
                                    
                            <h:inputText id="cellPhone" maxlength="10" size="10" value="#{studentSettingsBean.student.cellPhone}" style="width: 140px;"/>

                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>Адрес электронной почты:</p>
                                </td>
                                <td>
                                    <h:inputText id="eMail" size="19" value="#{studentSettingsBean.student.email}" style="width: 140px;"/>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p>ICQ:</p>
                                </td>
                                <td>
                                    <h:inputText id="icq" maxlength="9" size="9" value="#{studentSettingsBean.student.icq}" style="width: 140px;"/>
                                </td>
                            </tr>
                        </table>

                        <div style="text-align: right;">
                            <h:commandButton value="Сохранить" styleClass="studentButton" style="margin-right: 0; margin-top: 10px; width: 100px;">
                                <f:ajax execute="@form" render="@form mess saved error" listener="#{studentSettingsBean.save}"/>
                            </h:commandButton>
                        </div>
                        <h:outputText id="saved" rendered="#{studentSettingsBean.saved}" value="Сохранено"/>
                        <h:outputText id="error" rendered="#{studentSettingsBean.error ne null}" value="#{studentSettingsBean.error}"/>
                        <h:messages id="mess"/>
                    </div>
                </h:form><br/>
                <set:changePassword user="#{studentSessionBean.student}"/>
            </div>
            <set:addAvatar bean="#{studentSettingsBean}"/>
            <div class="floatDestroyer"></div>
        </div>
    </ui:define>
</ui:composition>
