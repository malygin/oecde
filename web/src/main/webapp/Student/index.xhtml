<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="../resources/studentTemplate.xhtml"
    xmlns:j="http://java.sun.com/jsf/composite/components/journal"
    xmlns:news="http://java.sun.com/jsf/composite/components/news"
    xmlns:ut="http://java.sun.com/jsf/composite/components/util"
    xmlns:est="http://java.sun.com/jsf/composite/components/estimation"
    xmlns:edu="http://java.sun.com/jsf/composite/components/education"
   >

    <ui:define name="contentHeader">
        <div class="Ipsilon_Web_GreenText" style="position: relative; top: -33px;">
           <p style="float: right;"> 
             #{studentSessionBean.student.surname}
            #{studentSessionBean.student.name}
            #{studentSessionBean.student.secondName}
         </p>
        </div>
    </ui:define>
    <ui:define name="fio">
        <h:outputText value="#{studentSessionBean.student.fio}"/>
    </ui:define>
    <ui:define name="content">
         <f:metadata>
                <f:viewParam name="s" value="#{studentIndexBean.semester}"/>
         </f:metadata>

        <div class="StudentMainPageTitlesBorders" style="width: 55%; float: left; height: 200px;">
            <div class="mainStudentPageTitles mainStudentPageTitlesBlue"> Личная информация
            </div>
            <div class="userData">
                <div>
                <table class="leftMenuContainer blocksMargins">
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoSpec}</p></td>
                        <td><p>#{studentSessionBean.student.group.speciality.name}</p></td>
                        <td rowspan="8">
                             <div>
                                <ut:showPhoto user="#{studentSessionBean.student}" size="medium"/>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoGroup}</p></td>
                        <td><p>#{studentSessionBean.student.group.name}</p></td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_studentPassId}</p></td>
                        <td><p>#{studentSessionBean.student.studentPassId}</p></td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_yourRating}</p></td>
                        <td class="reitingLink"><a href="groupRating.xhtml" style="">#{studentRatingBean.studentRating.sum}</a></td>
                    </tr>
                    <tr>
                        <td><p>Контакты
                            </p>
                        </td>
                        <td><p>123456</p>
                        </td>
                    </tr>
                    <tr>
                        <td><p>Доп.информация
                            </p>
                        </td>
                        <td><p>Староста</p>
                        </td>
                    </tr>
                </table>
                </div>
                
                <div class="floatDestroyer"></div>
            </div>
            <div class="floatDestroyer"></div>
        </div>
        <div class="StudentMainPageTitlesBorders" style=" margin-left: 61%; width: 35%; height: 200px;">
            <div class="mainStudentPageTitles mainStudentPageTitlesOrange">
                Оповещения
            </div>
            <div class="userData">
                <div>
                    
                    <table style="margin: 10px; margin-left: 15px;" class="notificationTableTextOrange">
                        <tr>
                            <td><p>Открытие тестов</p>
                            </td>
                            <td><p class="mainStudentPageTitlesOrangeP"><h:outputText converter="dateConverter" value="#{resourceService.regularTestBeginDate}"/></p>
                            </td>
                        </tr>
                        <tr>
                            <td><p>Открытие контрольных</p>
                            </td>
                            <td><p class="mainStudentPageTitlesOrangeP"> <h:outputText converter="dateConverter" value="#{studentIndexBean.getDate('controlWorksBeginDate')}"/></p>
                            </td>
                        </tr>
                        <tr>
                            <td><p>Открытие итоговых тестов</p>
                            </td>
                            <td><p class="mainStudentPageTitlesOrangeP"> <h:outputText converter="dateConverter" value="#{resourceService.concludingTestBeginDate}"/></p>
                            </td>
                        </tr>
                        <tr>
                            <td><p>Начало переэкзаменовки</p>
                            </td>
                            <td><p class="mainStudentPageTitlesOrangeP"> <h:outputText converter="dateConverter" value="#{resourceService.reExameBeginDate}"/></p>
                            </td>
                        </tr>
                        <tr>
                            <td><p>Закрытие тестов</p>
                            </td>
                            <td><p class="mainStudentPageTitlesOrangeP"><h:outputText converter="dateConverter" value='#{resourceService.regularTestEndDate}'/></p>
                            </td>
                        </tr>
                        <tr>
                            <td><p>Закрытие контрольных </p>
                            </td>
                            <td><p class="mainStudentPageTitlesOrangeP"> <h:outputText converter="dateConverter" value="#{studentIndexBean.getDate('controlWorksEndDate')}"/></p>
                            </td>
                        </tr>
                        <tr>
                            <td><p>Закрытие итоговых тестов</p>
                            </td>
                            <td><p class="mainStudentPageTitlesOrangeP"> <h:outputText converter="dateConverter" value="#{resourceService.concludingTestEndDate}"/></p>
                            </td>
                        </tr>
                        <tr>
                            <td><p>Окончание переэкзаменовки</p>
                            </td>
                            <td><p class="mainStudentPageTitlesOrangeP"> <h:outputText converter="dateConverter" value="#{resourceService.reExameEndDate}"/></p>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <div class="floatDestroyer">
        </div>
        <div>
            <table class="leftMenuContainer" cellpadding="0" cellspacing="0">
                <tr>
                    <td style="width: 58%;">                       
                        <edu:videoConfSchedule numberLessons="20"/>
                    </td>
                     <td valign="top">
                        <div class="StudentMainPageTitlesBorders" style="padding: 0px 5px; margin-bottom: 0;margin-left: 32px;margin-right: 35px;">                         
                          <news:shortList numberNews="4"/>                          
                        </div>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
<!--                          <edu:calendareInfo/>-->
                    </td>
                </tr>
                <tr>
                    <td colspan="2" style="height: 1px;"></td>
                </tr>
                <tr>
                    <td colspan="2" class="StudentTimeTable" valign="top">
                        <div class="StudentMainPageTitlesBorders" style="margin-right: 32px;">
                             <div class="mainStudentPageTitles  mainStudentPageTitlesSkyBlue">
                                 <a href="journal.xhtml" style="font-size: 12pt;" >Лента событий</a>
                            </div>
                            <div style="height: 200px;">
                                <p class="blueUnderTitleLink UnderTitleLink" style="background: url('../resources/images/event1.png') no-repeat; padding-left: 10px; margin: 7px;"><a href="#">Студент Черкесова Наталья Валерьевна</a> прошел(прошла)
Тест по курсу "Бухгалтерский учет", модуль 2
                                </p>
                                <p class="greenUnderTitleLink UnderTitleLink" style="background: url('../resources/images/event2.png') no-repeat; padding-left: 10px; margin: 7px;"><a href="#">Преподаватель Гусев Вячеслав Иванович</a> довыставил(а) оценки 
группе 349 специальности "Прикладная информатика в экономике”
                                </p>
                                <p class="orangeUnderTitleLink UnderTitleLink" style="background: url('../resources/images/event3.png') no-repeat; padding-left: 10px; margin: 7px;"><a href="#">Администратор Головко Екатерина Михайловна</a> создала курс “Математический анализ (часть 3)”
                                </p>
                            </div>
                        </div>
                        <div class="StudentTestsPadding">
                            <j:eventsOnly  list="#{journalBean.events('studentEvents',studentSessionBean.student)}"/>
                        </div>
                    </td>
                </tr>
                <h:panelGroup rendered="#{studentIndexBean.exame}">
                <tr>
                    <td colspan="2" class="indexChangeSemestrPanel">
                        <est:changeSemester semester="#{studentIndexBean.semester}"/>
                    </td>
                </tr>
                <tr>
                    <td style="width: 50%;" class="StudentSecondLineBlocks" valign="top">
                         <edu:disciplineForStudent/>
                    </td>
                    <td class="tdStudentMainPage" valign="top">
                         <edu:testForStudent/>
                    </td>
                </tr><tr>
                    <td class="tdStudentMainPage" valign="top">
                         <edu:finalTestsForStudent/>
                    </td>                   

                    <td class="tdStudentMainPage" valign="top">
                         <edu:controlWorkForStudent/> 
                    </td>
                </tr>
                </h:panelGroup>
            </table>
        </div>
    </ui:define>
</ui:composition>
