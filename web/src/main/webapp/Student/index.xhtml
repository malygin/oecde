<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="../resources/studentTemplate.xhtml"
    xmlns:j="http://java.sun.com/jsf/composite/components/journal"
    xmlns:news="http://java.sun.com/jsf/composite/components/news"
    xmlns:ut="http://java.sun.com/jsf/composite/components/util"
    xmlns:est="http://java.sun.com/jsf/composite/components/estimation"
    xmlns:edu="http://java.sun.com/jsf/composite/components/education"
   >

    <ui:define name="contentHeader">
        #{msgs.student_index}
    </ui:define>
    <ui:define name="fio">
        <h:outputText value="#{studentSessionBean.student.fio}"/>
    </ui:define>
    <ui:define name="content">
        <f:metadata>
                <f:viewParam name="s" value="#{studentIndexBean.semester}"/>
         </f:metadata>

        <div class="userFile">
            <div style="width:60%">
                <ut:showPhoto user="#{studentSessionBean.student}" size="small"/>
            </div>
            <div class="userData" style="width: 91%;">
                <table class="leftMenuContainer">
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoSpec}</p></td>
                        <td><div>#{studentSessionBean.student.group.speciality.name}</div></td>
                        <td colspan="3"><div>#{studentSessionBean.student.surname}
                            #{studentSessionBean.student.name}
                            #{studentSessionBean.student.secondName}
                            </div>
                        </td>                  
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_mainContentUserInfoGroup}</p></td><td><div>#{studentSessionBean.student.group.name}</div></td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_studentPassId}</p></td><td><div>#{studentSessionBean.student.studentPassId}</div></td>
                    </tr>
                    <tr>
                        <td><p>#{msgs.student_yourRating}</p></td>
                        <td class="reitingLink"><a href="groupRating.xhtml" style="">#{studentRatingBean.studentRating.sum}</a></td>
                    </tr>
                </table>
                
                <div class="floatDestroyer"></div>
            </div>
            <div class="floatDestroyer"></div>
        </div>
        <div style="padding: 5px;">
            <table class="leftMenuContainer">
                <tr>
                    <td colspan="2" class="StudentTimeTable">                       
                        <edu:videoConfSchedule numberLessons="20"/>
                    </td>
                </tr>
                <tr>
                    <td colspan="2" class="StudentTimeTable">
                          <edu:calendareInfo/>
                    </td>
                </tr>
                <tr>
                    <td colspan="2" style="height: 1px;"></td>
                </tr>
                <tr>
                    <td style=" border: 1px solid silver;" valign="top">
                        <div style=" padding: 0px 5px;max-height: 300px; overflow-y: scroll;">                         
                          <news:shortList numberNews="4"/>                          
                        </div>
                    </td>
                    <td style="width: 50%;" class="StudentTimeTable" valign="top">
                        <div class="StudentMainPageTitles">
                            <div class="navigationLinks indentionInNavigation" style="font-size: 12pt;"><a class="events" href="journal.xhtml" >Лента событий</a></div>
                        </div>
                        <div class="StudentTestsPadding">
                            <j:eventsOnly  list="#{journalBean.events('studentEvents',studentSessionBean.student)}"/>
                        </div>
                    </td>
                </tr>
                <h:panelGroup rendered="#{studentIndexBean.exame}">
                <tr>
                    <td colspan="2" class="indexChangeSemestrPanel">
                        <est:changeSemester semester="#{studentIndexBean.semester}"/>
                    </td>
                </tr>
                <tr>
                    <td style="width: 50%;" class="StudentSecondLineBlocks" valign="top">
                         <edu:disciplineForStudent/>
                    </td>
                    <td class="tdStudentMainPage" valign="top">
                         <edu:testForStudent/>
                    </td>
                </tr><tr>
                    <td class="tdStudentMainPage" valign="top">
                         <edu:finalTestsForStudent/>
                    </td>                   

                    <td class="tdStudentMainPage" valign="top">
                         <edu:controlWorkForStudent/> 
                    </td>
                </tr>
                </h:panelGroup>
            </table>
        </div>
    </ui:define>
</ui:composition>
