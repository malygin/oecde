<ui:composition
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    template="../resources/studentTemplate.xhtml"
    >
    <ui:define name="contentHeader">
        #{msgs.student_oldGradesHeader}
        
    </ui:define>
    <ui:define name="content">
        <div class="interfaceContent">
            <div class="LeftInterfaceContent StudentMainPageTitlesBorders">
                <div class="mainStudentPageTitlesGreen mainStudentPageTitles Ipsilon_Web_GreenText">
                    <p class="floatLeft mainStudentPageTitles" style="width: 70%;padding: 0;">#{msgs.student_oldGradesHeader}</p>
                    <div class="greyLinks">
                    <f:metadata>
                         <f:viewParam name="s" value="#{oldGradesBean.semester}"/>
                         <f:viewParam name="w" value="#{oldGradesBean.winter}"/>
                        </f:metadata>
                        <h:outputLink id="handle" value="?s=#{oldGradesBean.semester+(oldGradesBean.winter?1:-1)}&amp;w=#{!oldGradesBean.winter}">
                        <h:outputText id="isWinter" value="#{oldGradesBean.winter?('показать зимний семестр'):('показать летний семестр')}"/>
                        </h:outputLink>
                    </div>
                </div>
                <div>
                    <div class="blocksMargins linkToTeachersProfile">
                        <span style="margin-right: 20px;">Выберите курс: </span>
                        <ui:repeat id="years" value="#{oldGradesBean.years}" var="y">
                            <span>
                                <h:outputLink id="year" disabled="#{oldGradesBean.semester eq y[1]}"  value="?w=#{oldGradesBean.winter}&amp;s=#{y[1]}" style="font-weight: bold;">
                                <h:outputText  value="#{y[0]}"/>
                            </h:outputLink>
                           </span>
                        </ui:repeat>
                    </div>
                    <h:dataTable id="table" value="#{oldGradesBean.oldGrades}" var="p" style="display: none;"
                     
                     columnClasses="studentStandatrTableTd,studentStandatrTableTd,
                     studentStandatrTableTdLastTd studentStandatrTableExamin" cellpadding="0" cellspacing="0" styleClass="studentStandatrTable leftMenuContainer">
            <h:column>
                <f:facet name="header">
                    <h:outputText value="#{msgs.student_gradesTableHeadDisc}" />
                </f:facet>
                <span class="controlWorksDisciplineName controlWorksDisciplineNameLink" style="display: block;font-size: 8pt;font-weight: normal;padding-left: 8px;"><h:outputLink value="umk.xhtml?c=#{p.key.key.id}">#{p.key.key.discipline.name}</h:outputLink></span>
            </h:column>
            <h:column>
                <f:facet name="header">
                    Преподаватель
                </f:facet>
                <span class="linkToTeachersProfile linkToTeachersProfileFromStudent"><h:outputLink value="teacher.xhtml?id=${p.key.value.id}">#{p.key.value.initials}</h:outputLink></span>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputText value="#{msgs.student_gradesTableHeadFinal}" />
                </f:facet>
                <h:outputText converter="enumConverter" value="#{p.value.gradeCode}"/>
            </h:column>
        </h:dataTable>
                </div>
            </div>
            <div class="RightInterfaceContent StudentMainPageTitlesBorders">
                ghfhjgh
            </div>
        </div>
    </ui:define>
</ui:composition>
