<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping schema="oecdo_test">
  <class discriminator-value="main" mutable="false" name="org.sgu.oecde.core.education.Curriculum" table="curriculum">
    <cache usage="read-only"/>
    <id name="id" type="long"/>
    <discriminator column="discriminator" length="15" insert="false"/>
    <property insert="false" name="semester" scale="2" type="integer"/>
    <property column="calendar_year" insert="false" name="calendarYear" scale="4" type="integer"/>
    <property column="examination_type" insert="false" length="10" name="examinationType" not-null="true">
      <type name="org.sgu.oecde.core.GenericEnumUserType">
        <param name="enumClass">org.sgu.oecde.core.education.ExaminationType</param>
        <param name="identifierMethod">toName</param>
        <param name="valueOfMethod">parse</param>
      </type>
    </property>
    <set batch-size="5" cascade="none" fetch="select" lazy="true" mutable="false" name="teacherToGroups" table="teacher_to_group">
      <cache usage="read-only"/>
      <key column="curriculum" foreign-key="fk_teacher_2_group_curriculum"/>
      <composite-element class="org.sgu.oecde.core.education.TeacherToGroup">
        <parent name="curriculum"/>
        <many-to-one cascade="none" class="org.sgu.oecde.core.users.AbstractTeacher" fetch="join" foreign-key="fk_teacher_2_group_teacher" insert="false" name="teacher"/>
        <many-to-one cascade="none" class="org.sgu.oecde.core.users.StudentGroup" fetch="join" foreign-key="fk_teacher_2_group_group" column="student_group" insert="false" name="group"/>
      </composite-element>
    </set>
    <many-to-one class="org.sgu.oecde.core.education.Umk" fetch="join" foreign-key="fk_curriculum_umk" insert="false" name="umk"/>
  </class>
</hibernate-mapping>